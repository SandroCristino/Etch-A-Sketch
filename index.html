<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./style.css">
        <title>Etch-A-Sketch</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <h1>Etch-A-Sketch</h1>

    </head>
    <body>
        <div id="container"></div>
    </body>
    <footer>          
        <!-- <div onclick="location.href='newurl.html';">&nbsp;</div> -->
        <div onclick="window.open('https://github.com/SandyWezzy/Etch-A-Sketch','mywindow');" style="cursor: pointer;" >Website made by SandyWezzy</div>
    </footer>
    <script>
        const buildBtn = document.createElement('button');
        const container = document.querySelector('#container');
        const color = ['green','blue','yellow','white','brown','purple','lila','lightblue','grey','magenta'];
        const resetBtn = document.createElement('button');
        const createBtn = document.createElement('button');
        const footer = document.querySelector('#footer');

        container.appendChild(resetBtn);
        container.appendChild(buildBtn);
        container.appendChild(createBtn);

        createSquare(2);
        
        createBtn.setAttribute('style', 'grid-area: right;  width: 50px; height: 33px; margin: 50% 25%; border-radius: 10px;');
        createBtn.textContent = 'Build';
        resetBtn.setAttribute('style', 'grid-area: sidebar; width: 50px; height: 33px; margin: 50% 25%; border-radius: 10px;');
        resetBtn.textContent = 'Reset';
        buildBtn.setAttribute('style', 'grid-area: header; height: 33px; margin: 20px 0; font-size: 20px; border-radius:10px');
        buildBtn.textContent = 'ðŸ‘€ Change it ðŸ‘€';
       
        buildBtn.addEventListener('click', () => {
            let input = prompt('How many rows do you want?');
            if (input > 11) {
                window.alert('Highest one is 11.');
                createSquare(11);
            } else {
                createSquare(input);
            }
        })
        resetBtn.addEventListener('click', () => {
            document.querySelectorAll('p').forEach((elem) => elem.style.background = 'white');
        });
        createBtn.addEventListener('click', () => {
            document.querySelectorAll('p').forEach((elem) => elem.style.background = color[getRandom()]);
        })


        function createSquare(amount) {
            document.querySelectorAll('p').forEach((elem) => elem.remove());

            for (;amount > 0; amount--) {
                for (let i = 11; i > 0; i--) {
                const div = document.createElement('p');
                div.classList.add('square');
                div.setAttribute('style', 'width:50px; height:50px; background:white; margin: 0;border:solid 1px black;');

                container.appendChild(div);
                div.addEventListener('mouseover', () => {
                    div.style.background = color[getRandom()];
                });
                }
            }

        }
        const getRandom = function() {
            return Math.round(Math.random() * 10 - 1);
        }
        

        </script>
</html>